# WebNote 生产环境配置模板
# 复制此文件为 .env.production 并填写实际值
# cp deploy/backend/.env.production.example deploy/backend/.env.production

# ===========================================
# 服务器配置
# ===========================================
NODE_ENV=production
PORT=3000
HOST=0.0.0.0

# ===========================================
# 数据库配置
# ===========================================
# SQLite (开发/小型部署)
DATABASE_URL="file:./dev.db"

# PostgreSQL (生产环境推荐)
# DATABASE_URL="postgresql://webnote_user:YOUR_DB_PASSWORD@localhost:5432/webnote"

# ===========================================
# JWT 配置 (重要！)
# ===========================================
# JWT_SECRET 必须满足以下要求：
# 1. 长度至少 32 字符
# 2. 包含大小写字母、数字和特殊字符
# 3. 使用加密安全的随机生成方法
# 4. 不要使用默认值或弱密钥模式

# 生成强密钥的方法：
# 方法1 - Node.js (推荐):
#   node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
# 方法2 - OpenSSL:
#   openssl rand -base64 32
# 方法3 - Python:
#   python3 -c "import secrets; print(secrets.token_urlsafe(32))"
# 方法4 - 在线工具 (仅限测试环境，不推荐生产使用):
#   https://www.grc.com/passwords.htm

# 示例密钥 (请勿在生产环境使用！):
# JWT_SECRET="Kx8mP2nQ5vR9wY3zA7bC1dE6fG0hJ4kL+MnOpQrStUvWxYz=="

JWT_SECRET="YOUR_SECURE_JWT_SECRET_HERE_MIN_32_CHARS"
JWT_EXPIRES_IN="7d"

# ===========================================
# CORS 配置
# ===========================================
# 允许的前端域名，多个域名用逗号分隔
ALLOWED_ORIGINS="http://your-domain.com,https://your-domain.com"

# ===========================================
# 阿里云 OSS 配置 (可选 - 用于备份功能)
# ===========================================
# OSS_ACCESS_KEY_ID="your-access-key-id"
# OSS_ACCESS_KEY_SECRET="your-access-key-secret"
# OSS_BUCKET="your-bucket-name"
# OSS_REGION="oss-cn-hangzhou"

# ===========================================
# 日志配置
# ===========================================
LOG_LEVEL="info"

# ===========================================
# 安全提示
# ===========================================
# 1. 此文件包含敏感信息，请勿提交到版本控制系统
# 2. 确保 .env 文件权限设置为 600 (仅所有者可读写)
#    chmod 600 .env
# 3. 定期轮换 JWT_SECRET (建议每 90 天)
# 4. 使用环境变量管理工具或密钥管理服务存储敏感配置
