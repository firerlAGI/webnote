## T3批次2执行计划

### 智能体任务分配

#### 后端架构师 - WebSocket HTTP降级
1. 创建降级管理器模块 (`fallback.ts`)
   - ConnectionHealthTracker - 连接健康追踪
   - FallbackController - 降级控制器
   - HTTPPollingService - HTTP轮询服务
2. 增强SyncService集成降级逻辑
3. 添加HTTP轮询API端点 (`/api/sync/poll`, `/api/sync/fallback-status`)
4. 扩展类型定义

#### 后端架构师 - 阿里云OSS备份
1. 添加ali-oss依赖到package.json
2. 添加OSS环境变量配置
3. 创建OSS客户端配置模块
4. 更新Prisma Schema添加Backup模型
5. 更新BackupService集成OSS上传/下载
6. 执行pnpm install和Prisma迁移

#### 前端架构师 - 同步UI组件
1. 创建日期/字节格式化工具函数
2. 创建WebSocket连接状态指示器组件
3. 完善ConflictResolver手动合并界面
4. 完善SyncStatus添加HTTP轮询模式
5. 创建统一导出文件和通知反馈组件
6. 集成到NotesContext和ReviewsContext

#### 技术规划分析师 - 可行性评估报告
1. 分析技术风险（T3-R1到T3-R5）
2. 验证技术依赖清单
3. 评估分阶段实施计划
4. 分析性能监控指标
5. 提出优化建议

### 文件变更统计
- 新建：8个文件
- 修改：7个文件
- 命令：2个（pnpm install、Prisma迁移）