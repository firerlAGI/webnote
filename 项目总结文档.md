# WebNote 项目总结文档

> **项目说明**：本文档为项目总结，用于向其他AI助手（如Gemini）介绍项目全貌，便于协助前端开发工作。

---

## 一、技术栈

### 1.1 整体技术架构

| 层级 | 技术选型 | 说明 |
|------|----------|------|
| **前端框架** | React 18 + TypeScript 5 | 类型安全、组件化开发 |
| **构建工具** | Vite 5 | 快速开发体验、现代构建流程 |
| **路由** | React Router 6 | 单页应用路由管理 |
| **状态管理** | React Context API + useReducer | 轻量级状态管理 |
| **Markdown** | react-markdown + remark-gfm + rehype-highlight | Markdown编辑和渲染 |
| **测试** | Vitest | 单元测试框架 |
| **包管理** | pnpm 8.7.0 | 快速、节省空间 |
| **Monorepo** | Turborepo 1.10.0 | 高效的Monorepo管理 |
| **后端框架** | Fastify + TypeScript | 高性能Web框架 |
| **ORM** | Prisma | 类型安全的数据库ORM |
| **数据库** | PostgreSQL | 关系型数据库 |
| **缓存** | Redis | 内存数据库缓存 |

### 1.2 前端项目结构（当前）

```
packages/
├── web/                  # Web前端应用（现有）
│   ├── src/
│   │   ├── api/         # API调用
│   │   ├── cache/       # 缓存系统
│   │   ├── components/  # React组件
│   │   ├── contexts/    # React Context
│   │   ├── hooks/       # 自定义Hooks
│   │   ├── layouts/     # 页面布局
│   │   ├── pages/       # 页面组件
│   │   ├── websocket/   # WebSocket客户端
│   │   └── styles/      # 样式文件
│   └── vite.config.ts
│
└── shared/               # 共享代码
    ├── types/           # TypeScript类型定义
    ├── utils/           # 工具函数
    ├── api/             # API客户端
    ├── constants/       # 常量定义
    └── schemas/         # 数据验证schema
```

---

## 二、给Gemini的前端开发建议

### 2.1 重要说明

**请注意**：你需要为这个项目创建一个**全新的前端应用**，而不是修复现有的前端代码。

**保留的部分**：
- ✅ 后端API接口（认证、笔记、文件夹、复盘、同步、备份等）
- ✅ 共享代码包（types、utils、api、constants）
- ✅ 数据库结构和后端服务逻辑

**需要从零开发的部分**：
- 🆕 前端UI/UX设计（采用赛博朋克风格）
- 🆕 前端组件库和页面
- 🆕 状态管理架构
- 🆕 路由设计
- 🆕 前端数据同步逻辑（可以参考现有HybridCache和SyncManager的设计思路）

### 2.2 UI设计风格

- **赛博朋克风格** - UI设计采用赛博朋克视觉风格

### 2.3 核心功能需求

1. **笔记管理**
   - 创建、编辑、删除笔记
   - Markdown编辑器（实时预览、代码高亮、图片上传）
   - 笔记搜索和筛选
   - 笔记文件夹管理
   - 笔记置顶功能

2. **每日复盘**
   - 创建和编辑日复盘
   - 复盘模板功能
   - 复盘统计和分析
   - 心情指数记录

3. **数据同步**
   - 多设备数据同步
   - 实时WebSocket同步
   - 离线编辑支持
   - 冲突解决机制
   - 数据备份和恢复

4. **用户认证**
   - 用户注册和登录
   - JWT认证
   - 密码加密存储

### 2.4 开发阶段

#### 第一阶段：项目搭建和架构设计
1. 创建新的前端项目结构
2. 选择合适的技术栈
3. 设计新的UI组件库
4. 设计路由架构
5. 设计状态管理方案

#### 第二阶段：核心页面开发
1. **认证页面** - 登录、注册、忘记密码
2. **笔记管理页面** - 笔记列表、编辑、详情
3. **文件夹管理** - 文件夹列表、创建/编辑/删除
4. **复盘页面** - 复盘列表、编辑、统计
5. **设置页面** - 个人设置、主题设置、同步设置

#### 第三阶段：数据同步功能
1. 实现前端API客户端
2. 实现数据缓存策略
3. 实现WebSocket实时同步
4. 实现冲突解决机制
5. 实现离线编辑支持

#### 第四阶段：用户体验优化
1. 响应式设计（桌面端、平板、手机）
2. 加载状态和错误提示
3. 交互动画和过渡效果
4. 快捷键支持
5. 拖拽功能



**文档生成时间**: 2026-01-13  
**最后更新**: 2026-01-13  
**文档版本**: v3.0（精简版）
